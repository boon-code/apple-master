<!DOCTYPE html>
<html lang=en-us>
  <head>
    <meta charset=utf-8>
    <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
    <title>Apple Master Revived</title>
    <style>
      html,body {
        height: 100%;
        margin: 0;
        background-color: black;
      }
      canvas {
        display: block;
        margin: 0 auto;
      }
    </style>
  </head>
  <body onresize="resize()">
    <canvas id="canvas" width="1024" height="768" oncontextmenu="event.preventDefault()" tabindex="-1"></canvas>
    <script>
      function resize() {
        const canvas = document.querySelector('canvas');
        canvas.width = 1024;
        canvas.height = 768;
        const nrat = 1024 / 768;
        const wrat = window.innerWidth / window.innerHeight;
        var w = "auto";
        var h = "auto";
        if (wrat > nrat) {
          h = "100vh";
        } else {
          w = "100vw";
        }
        canvas.style.width = w;
        canvas.style.height = h;
        console.log("Resized");
      }

      resize();

      const observer = new ResizeObserver((_x) => {
        console.log("Resize observer triggered");
        resize();
      });

      observer.observe(canvas)
    </script>
    <script src="start.js"></script>
    <script async src=index.js></script>
  </body>
</html>
